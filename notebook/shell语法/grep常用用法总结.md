grep常用用法总结
-----------------------------------------------------------------------------------------------------------

>  2020-01-17

### 比较文件内容

```bash
# 相同行查找
$ grep -f file1 file2

# 不同行查找
$ grep -v -f file1 file2 && grep -v -f file2 file1
  # 先找出file1独有行,再找出file2独有行
```

### 集合字符

```bash
# [] 表示其中的某一个字符
$ grep 't[ae]st'

# 搜索空行
$ grep '^$' file

# 搜索开头不是英文字母的行
$ grep '^[^a-zA-Z]' file

# 搜索包含两个o的字符串的行
$ grep 'o\{2\}' file
  # 由于{}在SHELL中有特殊意义，因此作为正则表达式用的时候要用\转义一下

# 搜索g开头和结尾的字符串在的行
$ grep 'g.*g'
```

### 扩展正则

```bash
$ egrep "^([0-9]{1,2}|1[0-9]{2}" testfile 
  # egrep 等价于grep -E
  # 扩展正则{}不需要转义 
  # ()|?+在扩展正则中才有
```

### 判断是否检索到

```bash
cat $i|tr -d ' \n'|grep -q $1
if [ $? -eq 0 ]; then
    echo ${i#*/}
fi
```

### 查找子文件夹

```bash
grep -r xxx ./
```

